/* --- START OF FILE style.css --- */

/* --- Header & Logo Branding --- */
.usa-logo__text a {
	display: flex;
	flex-direction: column;
	text-decoration: none;
	color: #1b1b1b;
}

.logo-main {
	font-size: 1.3rem;
	font-weight: 700;
	color: #162e51;
	letter-spacing: 0.02em;
	line-height: 1.2;
}

.logo-sub {
	font-size: 0.95rem;
	font-weight: 500;
	color: #005ea2;
	margin-top: 0.1rem;
	letter-spacing: 0.01em;
}

/* --- Header Chapter Title --- */
.header-chapter-title {
    flex-grow: 1;
    flex-shrink: 1;           /* Allow shrinking to prevent overflow */
    text-align: center;
    font-weight: 700;
    font-size: 1.1rem;
    color: #162e51;
    white-space: nowrap;      /* Single line on desktop */
    overflow: hidden;         /* Hide overflow */
    text-overflow: ellipsis;  /* Show ellipsis for long titles */
    line-height: 1.3;
    padding: 0.5rem 1rem;
    min-width: 35ch;          /* Enforce ~50 chars visible on desktop per user request */
}

/* Wide screens: Add another ~50 chars visible */
@media (min-width: 80em) {
    .header-chapter-title {
        min-width: 70ch;
    }
}

/* Medium screens: restore normal wrapping (overrides desktop ellipsis) */
@media (max-width: 64em) {
    .header-chapter-title {
        white-space: normal;  /* Allow wrapping */
        overflow: visible;    /* Show wrapped content */
        text-overflow: clip;  /* No ellipsis when wrapping */
        font-size: 1rem;
        padding: 0 0.5rem;
        min-width: 0;         /* Allow shrinking on smaller screens */
    }
}

/* Mobile: truncate with ellipsis */
@media (max-width: 40em) {
    .header-chapter-title {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 0.9rem;
    }
}

.usa-logo__text a:hover .logo-main,
.usa-logo__text a:hover .logo-sub {
	color: #1a4480;
}

/* --- Skip Navigation Link Styles --- */
.usa-skipnav {
	position: absolute;
	left: -999px;
	width: 1px;
	height: 1px;
	overflow: hidden;
	z-index: 100;
}

.usa-skipnav:focus {
	position: static;
	width: auto;
	height: auto;
	overflow: visible;
	background-color: #005ea2;
	color: #ffffff;
	padding: 0.5rem 1rem;
	text-decoration: none;
	display: inline-block;
	font-weight: bold;
}

/* Override for the input element generated by Algolia Autocomplete */
.aa-Input {
	width: 100% !important; /* Make input fill its container */
	box-sizing: border-box !important;
	border-radius: 4px !important;
	border: 2px solid #d9e8f6 !important;
	transition: border-color 0.2s ease !important;
}

.aa-Input:focus {
	border-color: #005ea2 !important;
	outline: none !important;
	box-shadow: 0 0 0 2px rgba(0, 94, 162, 0.2) !important;
}

.aa-Panel {
	z-index: 1000;
	top: 60px !important;
	border-radius: 6px !important;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

#search-component-wrapper {
	/* Ensure the search component wrapper is full width */
	width: 280px;
}

/* --- Translation Controls Styles --- */
#translation-controls-wrapper {
	padding: 0.5rem 1rem;
	border-top: 1px solid #dfe1e2;
	display: none; /* Hidden by default, shown by JS if supported */
}

.translation-controls {
	display: flex;
	flex-direction: column;
	gap: 0.5rem;
}

.translation-label {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	font-weight: 600;
	font-size: 0.875rem;
	margin-bottom: 0.25rem;
	color: #1b1b1b;
}

.translation-label .usa-icon {
	width: 1.25rem;
	height: 1.25rem;
	fill: currentColor;
}

.translation-select {
	width: 100%;
	min-width: 200px; /* Ensure dropdown is wide enough to show "English (Original)" */
	font-size: 0.875rem;
	padding: 0.5rem;
	border: 1px solid #565c65;
	border-radius: 0.25rem;
	background-color: #ffffff;
	color: #1b1b1b;
}

.translation-select:focus {
	outline: 0.25rem solid #2491ff;
	outline-offset: 0;
}

.translation-controls-row {
	display: flex;
	gap: 0.5rem;
	align-items: center;
}

.translate-button {
	white-space: nowrap;
	font-size: 0.875rem;
	padding: 0.5rem 1rem;
	flex-shrink: 0;
}

.translate-button.hidden {
	display: none;
}

.translate-button:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

.clear-translations-button {
	font-size: 0.75rem;
	padding: 0.25rem 0;
	color: #005ea2;
	text-decoration: underline;
	cursor: pointer;
}

.clear-translations-button:hover {
	color: #1a4480;
}

/* Translation disclaimer positioning */
#translation-disclaimer {
	margin: 0;
	border-radius: 0;
	border-left: none;
	border-right: none;
}

/* Translation Progress Indicator */
.translation-progress {
	background-color: #e7f6f8;
	border-top: 2px solid #00bde3;
	border-bottom: 2px solid #00bde3;
	padding: 1.5rem 2rem;
	margin: 0;
}

.translation-progress__content {
	max-width: 64rem;
	margin: 0 auto;
	display: flex;
	align-items: center;
	gap: 1.5rem;
}

.translation-progress__spinner {
	position: relative;
	width: 60px;
	height: 60px;
	flex-shrink: 0;
}

.translation-progress__spinner-svg {
	width: 100%;
	height: 100%;
	animation: translation-spinner-rotate 2s linear infinite;
}

.translation-progress__spinner-circle {
	stroke: #005ea2;
	stroke-linecap: round;
	stroke-dasharray: 90, 150;
	stroke-dashoffset: 0;
	animation: translation-spinner-dash 1.5s ease-in-out infinite;
}

@keyframes translation-spinner-rotate {
	100% {
		transform: rotate(360deg);
	}
}

@keyframes translation-spinner-dash {
	0% {
		stroke-dasharray: 1, 150;
		stroke-dashoffset: 0;
	}
	50% {
		stroke-dasharray: 90, 150;
		stroke-dashoffset: -35;
	}
	100% {
		stroke-dasharray: 90, 150;
		stroke-dashoffset: -124;
	}
}

.translation-progress__spinner-text {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	font-size: 0.75rem;
	font-weight: 700;
	color: #005ea2;
	letter-spacing: 0.5px;
}

.translation-progress__info {
	flex-grow: 1;
	min-width: 0;
}

.translation-progress__status {
	font-size: 1rem;
	font-weight: 700;
	color: #1b1b1b;
	margin-bottom: 0.5rem;
}

.translation-progress__bar-container {
	margin-bottom: 0.5rem;
}

.translation-progress__bar {
	width: 100%;
	height: 1.5rem;
	background-color: #c9c9c9;
	border-radius: 0.25rem;
	overflow: hidden;
	position: relative;
}

.translation-progress__bar-fill {
	height: 100%;
	background-color: #005ea2;
	transition: width 0.3s ease-out;
	width: 0%;
	border-radius: 0.25rem;
}

.translation-progress__details {
	font-size: 0.875rem;
	color: #565c65;
}

/* Responsive adjustments for translation progress */
@media (max-width: 40em) {
	.translation-progress {
		padding: 1rem;
	}

	.translation-progress__content {
		flex-direction: column;
		align-items: flex-start;
		gap: 1rem;
	}

	.translation-progress__spinner {
		width: 50px;
		height: 50px;
		align-self: center;
	}
}

/* --- Translation Info Link (for unsupported browsers) --- */
.translation-info-wrapper {
	position: relative;
	display: flex;
	align-items: center;
	margin-left: auto;        /* Push to right side */
	margin-left: auto;        /* Push to right side */
	margin-right: 0.5rem;     /* Space before menu button */
}

/* Modification: Top Bar Styling */
.translation-top-bar {
	display: flex;
	justify-content: flex-end; /* Align right */
	padding: 0.25rem 1rem 0;   /* Top padding */
	margin-right: 0;           /* Reset margin */
	margin-bottom: -0.5rem;    /* Pull closer to header elements */
	width: 100%;
	background-color: transparent;
	position: relative;
	z-index: 20;               /* Ensure above other elements */
	box-sizing: border-box;    /* Ensure padding doesn't overflow width */
}

.translation-top-bar .translation-info-link {
	border: none;              /* Remove border for cleaner look */
	padding: 0.25rem 0;        /* Compact padding */
	font-size: 0.8rem;         /* Slightly smaller */
}

.translation-top-bar .translation-info-link:hover,
.translation-top-bar .translation-info-link:focus {
	background-color: transparent;
	text-decoration: underline;
	color: #1a4480;
}

.translation-info-link {
	display: flex;
	align-items: center;
	gap: 0.4rem;
	padding: 0.5rem 0.75rem;
	background-color: transparent;
	border: 1px solid #dfe1e2;
	border-radius: 4px;
	color: #565c65;
	font-size: 0.875rem;
	font-weight: 500;
	cursor: pointer;
	transition: all 0.2s ease;
}

.translation-info-link:hover,
.translation-info-link:focus {
	background-color: #f0f0f0;
	border-color: #71767a;
	color: #1b1b1b;
}

.translation-info-link .usa-icon {
	width: 1rem;
	height: 1rem;
	fill: currentColor;
}

.translation-info-tooltip {
	position: absolute;
	top: calc(100% + 0.5rem);
	right: 0;
	min-width: 300px;
	max-width: 400px;
	background-color: #ffffff;
	border: 2px solid #005ea2;
	border-radius: 6px;
	padding: 1rem;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
	z-index: 1000;
	font-size: 0.875rem;
	line-height: 1.6;
}

.translation-info-tooltip::before {
	content: '';
	position: absolute;
	top: -8px;
	right: 1rem;
	width: 0;
	height: 0;
	border-left: 8px solid transparent;
	border-right: 8px solid transparent;
	border-bottom: 8px solid #005ea2;
}

.translation-info-title {
	margin-top: 0;
	margin-bottom: 0.5rem;
	font-size: 1rem;
	font-weight: 700;
	color: #1b1b1b;
}

.translation-info-tooltip p {
	margin: 0.5rem 0;
	color: #1b1b1b;
}

.translation-info-tooltip ul {
	margin: 0.5rem 0;
	padding-left: 1.5rem;
	color: #1b1b1b;
}

.translation-info-tooltip li {
	margin: 0.25rem 0;
}

/* --- Version Display --- */
.version-display {
	display: flex;
	align-items: center;
	margin-left: auto;
	padding: 0.25rem 0.5rem;
	font-size: 0.75rem;
	font-weight: 600;
	color: #4a4a4a; /* Accessibility: Improved contrast from #71767a (4.5:1 -> 7.5:1) */
	background-color: #f0f0f0;
	border-radius: 0.25rem;
	order: 1;
	position: relative;
	cursor: pointer;
}

.version-tooltip {
	display: none;
	position: absolute;
	top: calc(100% + 0.5rem);
	right: 0;
	min-width: 340px;
	max-width: 420px;
	background-color: #ffffff;
	border: 2px solid #005ea2;
	border-radius: 6px;
	padding: 1rem 1.25rem;
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.18);
	z-index: 1000;
	font-size: 0.875rem;
	font-weight: 400;
	color: #1b1b1b;
	line-height: 1.6;
	text-align: left;
}

.version-tooltip::before {
	content: '';
	position: absolute;
	top: -8px;
	right: 1rem;
	width: 0;
	height: 0;
	border-left: 8px solid transparent;
	border-right: 8px solid transparent;
	border-bottom: 8px solid #005ea2;
}

.version-display:hover .version-tooltip,
.version-display:focus .version-tooltip,
.version-display:focus-within .version-tooltip {
	display: block;
}

.version-tooltip__title {
	margin: 0 0 0.5rem 0;
	font-size: 1rem;
	font-weight: 700;
	color: #162e51;
}

.version-tooltip p {
	margin: 0.5rem 0;
}

.version-tooltip__note {
	margin-top: 0.75rem;
	padding-top: 0.5rem;
	border-top: 1px solid #dfe1e2;
	font-size: 0.8125rem;
	color: #565c65;
}

.usa-navbar {
	display: flex;
	align-items: center;
	gap: 0.5rem;              /* Add gap between flex items */
	flex-wrap: nowrap;        /* Prevent wrapping on desktop */
}

.usa-menu-btn {
	order: 2;
	flex-shrink: 0;           /* Menu button never shrinks */
}

/* Ensure translation info wrapper doesn't shrink */
.translation-info-wrapper {
	flex-shrink: 0;
}

@media (max-width: 64em) {
	.version-display {
		display: none;
	}
	
	.usa-navbar {
		gap: 0.25rem;         /* Smaller gap on tablets */
	}
}

@media (max-width: 40em) {
	.usa-navbar {
		gap: 0.25rem;         /* Minimal gap on mobile */
	}
}


/* Responsive adjustments for translation controls */
@media (max-width: 64em) {
	#translation-controls-wrapper {
		padding: 1rem;
	}
	
	.translation-controls {
		flex-direction: column;
	}
	
	.translation-info-wrapper {
		margin-right: 0.5rem;
	}
	
	.translation-info-tooltip {
		right: 0;
		min-width: 280px;
	}

	.translation-info-link span {
		/* Keep text visible on mobile if it fits, or let it wrap naturally since it's in its own bar */
		/* display: none;  <-- REMOVED per user request */
	}
}

@media (max-width: 40em) {

	
	.translation-info-link span {
		/* Keep text visible on mobile if it fits, or let it wrap naturally since it's in its own bar */
		/* display: none;  <-- REMOVED per user request */
	}
	
	.translation-info-link {
		padding: 0.5rem;
	}
	
	.translation-info-tooltip {
		position: fixed;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		right: auto;
		max-width: calc(100vw - 2rem);
		min-width: auto;
		width: calc(100vw - 2rem);
	}
	
	.translation-info-tooltip::before {
		display: none; /* Keep simplified tooltip for mobile */
	}
}


/* --- Glossary Tooltip Styles --- */
/* Basic Tooltip Styling */
#glossary-tooltip {
	position: absolute; /* Crucial for positioning */
	display: none;      /* Hidden by default */
	background-color: #ffffff;
	border: 2px solid #73b3e7;
	border-radius: 6px;
	padding: 12px 16px;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
	max-width: 320px;   /* Slightly wider */
	font-size: 0.95em;
	z-index: 1000;      /* Ensure it's above other content */
	pointer-events: none; /* Prevent tooltip from interfering with mouse events */
	line-height: 1.6;
}

/* Optional: Style links within the tooltip if needed */
#glossary-tooltip a {
	color: #005ea2;
	font-weight: 500;
}

/* --- Global Resets & Base Styles --- */
html {
	scroll-behavior: smooth;
}

body {
	font-family: 'Source Sans Pro', 'Helvetica Neue', 'Helvetica', 'Roboto', 'Arial', sans-serif;
	line-height: 1.65;
	margin: 0;
	padding: 0;
	background-color: #f0f0f0;
	color: #1b1b1b;
	/* Ensure body itself doesn't scroll unexpectedly with 100vh grid */
	overflow: hidden;
}

/* --- Grid Layout --- */
.grid-container {
	display: grid;
	/* Default (Desktop): Sidebar | Content */
	grid-template-columns: 250px auto; /* Fixed sidebar, flexible content */
	/* Header row, Content row fills remaining height */
	grid-template-rows: auto 1fr;
	height: 100vh; /* Fill viewport height */
	/* Prevent grid container itself from scrolling */
	overflow: hidden;
}

.header {
	grid-column: 1 / span 2; /* Span across both columns */
	grid-row: 1; /* Explicitly first row */
	position: relative; /* Needed for z-index */
	z-index: 10; /* Keep header above content */
	border-bottom: 3px solid #005ea2; /* Stronger blue border for authority */
	background: linear-gradient(to bottom, #ffffff 0%, #f8f9fa 100%);
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
}

/* Make the Chapters submenu scrollable if it gets too long */
#basic-nav-section-one {
	max-height: 70vh; /* Limit height to 70% of the viewport height - adjust as needed */
	overflow-y: auto;  /* Add vertical scrollbar only when content overflows */
	/* Optional: Add some padding at the bottom if scrollbar feels too close */
	padding-bottom: 1rem;
  }

.sidenav {
	grid-column: 1; /* First column */
	grid-row: 2; /* Second row */
	overflow-y: auto; /* <<< IMPORTANT: Allow vertical scrolling ONLY within sidenav */
	padding: 1.5rem 1rem;
	border-right: 2px solid #d9e8f6;
	background: linear-gradient(to right, #f8f9fa 0%, #ffffff 100%);
	/* Ensure scrolling works smoothly */
	-webkit-overflow-scrolling: touch; /* Momentum scrolling on iOS */
	box-shadow: 2px 0 4px rgba(0, 0, 0, 0.04);
}

.content {
	grid-column: 2; /* Second column */
	grid-row: 2; /* Second row */
	padding: 2rem 3rem; /* More generous padding */
	overflow-y: auto; /* <<< IMPORTANT: Allow vertical scrolling ONLY within content */
	/* Limit line length for readability */
	max-width: 85ch; /* Character units, adjust as needed */
	/* Ensure scrolling works smoothly */
	-webkit-overflow-scrolling: touch; /* Momentum scrolling on iOS */
    /* Needed for absolute positioning of page numbers relative to content area */
    position: relative;
	background-color: #ffffff;
	box-shadow: -2px 0 8px rgba(0, 0, 0, 0.04);
}

/* --- Sidenav Enhancements (Combine with USWDS classes) --- */
/* Style for the current item in the side nav */
/* USWDS puts .usa-current on the <a> tag */
.sidenav .usa-sidenav__item a.usa-current {
	font-weight: 700;
	background-color: #d9e8f6; /* Light blue background */
	color: #1a4480; /* Darker blue text */
	/* Border left is handled by parent li in some designs, but let's keep it here if li isn't sufficient */
	border-left: 4px solid #005ea2; 
	padding-left: calc(1rem - 4px); /* Adjust for border */
}

/* Ensure side nav links take adequate space and look consistent */
.sidenav .usa-sidenav__item a {
	display: block; /* Make the whole item clickable */
	padding: 0.6rem 1rem; /* Slightly more padding */
	text-decoration: none; /* Remove underlines */
	color: #005ea2; /* USWDS link color */
	border-radius: 4px; /* Rounded corners */
	transition: all 0.2s ease; /* Smooth transitions */
	font-weight: 500;
}

.sidenav .usa-sidenav__item-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
}

.sidenav .usa-sidenav__toggle {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0 0.5rem;
    color: #565c65;
    transition: transform 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.sidenav .usa-sidenav__toggle:hover {
    color: #1a4480;
    background-color: #e7f2f5;
    border-radius: 4px;
}

.sidenav .usa-sidenav__toggle .usa-icon {
    width: 1.25rem;
    height: 1.25rem;
    fill: currentColor;
    transition: transform 0.2s ease;
}

/* Rotate icon when collapsed: point right (-90deg). Default (expanded) points down (0deg). */
.sidenav .usa-sidenav__toggle.is-collapsed .usa-icon {
    transform: rotate(-90deg);
}

/* Ensure hidden sublists are truly hidden */
.sidenav .usa-sidenav__sublist[hidden] {
    display: none !important;
}


.sidenav .usa-sidenav__item a:hover {
	text-decoration: none;
	background-color: #e7f2f5; /* Lighter blue hover */
	color: #1a4480; /* Darker blue on hover */
	transform: translateX(2px); /* Subtle shift on hover */
}

/* Style for disabled glossary items (spans instead of links) */
.sidenav .usa-sidenav__item .glossary-disabled {
	display: block;
	padding: 0.5rem 1rem;
	color: #6c757d; /* Accessibility: Improved contrast from #a9aeb1 (3.8:1 -> 4.6:1) */
	cursor: default;
}

/* Indentation for sublists */
.sidenav .usa-sidenav__sublist {
	 /* USWDS handles most sublist styling */
	 /* Add padding adjustments if needed, but start without */
}

/* Hide hidden sublists */
.sidenav .usa-sidenav__sublist[hidden] {
    display: none;
}

.sidenav .usa-sidenav__sublist .usa-sidenav__item a {
	padding-left: 2rem; /* Indent level 1 sub-items */
}

.sidenav .usa-sidenav__sublist .usa-sidenav__sublist .usa-sidenav__item a {
	padding-left: 3rem; /* Indent level 2 sub-sub-items */
}


/* --- Highlight Styles --- */
.highlight {
	background-color: #fff4a3;
	padding: 0.1em 0.2em;
	border-radius: 3px;
	box-shadow: 0 0 0 2px #fff4a3;
	transition: background-color 0.3s ease;
}

/* Temporary highlight for scrolling target */
.temp-highlight {
	animation: tempHighlightAnimation 2s ease-out;
}
@keyframes tempHighlightAnimation {
	0% { 
		background-color: rgba(0, 94, 162, 0.2);
		box-shadow: 0 0 0 4px rgba(0, 94, 162, 0.15);
	}
	100% { 
		background-color: transparent;
		box-shadow: none;
	}
}


/* --- Table of Contents Styling --- */
toc {
	display: block;
	border: 2px solid #97d4ea;
	background: linear-gradient(to bottom, #f1f8fc 0%, #ffffff 100%);
	padding: 2em;
	margin-bottom: 3em;
	border-radius: 8px;
	box-shadow: 0 4px 6px rgba(0, 0, 0, 0.08);
}

toc tocitem {
	display: block;
	margin-bottom: 0.8em;
	line-height: 1.6;
}

/* Indentation based on label structure */
tocitem[label*='.'] { /* Items with a dot (e.g., 101.1) */
	margin-left: 1.5em;
}

tocitem[label*='('] { /* Items with parentheses (e.g., 101.1(A)) */
	margin-left: 3em;
}

tocitem a {
	text-decoration: none;
	color: #005ea2; /* USWDS primary blue */
	font-weight: 500;
	transition: color 0.2s ease;
}

tocitem a:hover,
tocitem a:focus {
	text-decoration: underline;
	color: #1a4480; /* Darker blue on hover */
}

/* --- Content Element Styling (Custom Tags) --- */

/* Ensure custom elements are displayed correctly */
main, chapter, head, section, subsection, provision,
paragraph, list, item, toc, tocitem,
section_title, subsection_title, provision_title /* Explicitly block */
{
	display: block;
}

/* Hide potentially redundant head > title from XML */
chapter > head > title {
	display: none;
}

/* Chapter Title (Main Heading for the document/content area) */
main > title, chapter > title, chapter > level_title { /* Assuming this is the main H1 equivalent */
	display: block;
	font-size: 2.5em; /* Larger, more authoritative */
	font-weight: 700; /* Bolder */
	margin-top: 0; /* Prevents double spacing after header's bottom padding */
	margin-bottom: 1.2em;
	padding-bottom: 0.5em;
	border-bottom: 4px solid #162e51; /* Darker, more authoritative border */
	color: #162e51; /* Official dark blue */
	line-height: 1.2;
	letter-spacing: -0.02em; /* Tighter letter spacing for headlines */
}

/* Section/Subsection/Provision Titles */
level_title,
section > section_title,
subsection > subsection_title,
provision > provision_title {
	font-weight: bold; /* Use bold consistently */
	margin-top: 2em;
	margin-bottom: 1em;
	color: #1b1b1b; /* USWDS Heading color */
	line-height: 1.3; /* Standard heading line height */
}

section > section_title {
	font-size: 2em; /* H2 equivalent */
	border-bottom: 3px solid #005ea2; /* USWDS Primary color */
	padding-bottom: 0.4em;
	margin-top: 2.5em;
	color: #1a4480;
}

subsection > subsection_title {
	font-size: 1.6em; /* H3 equivalent */
	border-bottom: 2px solid #73b3e7; /* Lighter blue */
	padding-bottom: 0.3em;
	margin-top: 2em;
	color: #1a4480;
}

provision > provision_title {
	font-size: 1.3em; /* H4 equivalent */
	color: #005ea2; /* Consistent heading color */
	margin-top: 1.8em;
}

/* Content Elements */
paragraph {
	margin-bottom: 1.4em;
	max-width: 70ch; /* Slightly narrower for paragraph readability */
	line-height: 1.75;
}

list {
	margin-left: 0; /* Remove default browser indent */
	margin-top: 1em;
	margin-bottom: 1.5em;
	padding-left: 2.5em; /* Control indent consistently */
	list-style-position: outside; /* Ensure markers are outside */
}

item {
	display: list-item;
	margin-bottom: 0.8em;
	line-height: 1.7;
}

/* Nested lists */
item list {
	margin-top: 0.7em;
	/* padding-left: is inherited or adjust if needed */
	margin-bottom: 0.7em;
}

item list item {
	margin-bottom: 0.5em;
}

/* Citation Styling */
ref {
	font-style: normal;
	font-size: 0.88em; /* Slightly larger */
	color: #565c65; /* USWDS Gray dark */
	white-space: nowrap; /* Attempt to keep citations together */
	background-color: #f0f0f0; /* USWDS Gray lightest */
	padding: 0.15em 0.5em;
	border-radius: 4px;
	display: inline; /* Keep inline */
	font-family: 'Roboto Mono', Consolas, Monaco, 'Courier New', monospace;
	border: 1px solid #dfe1e2;
}

ref[source='CASE'] {
	font-style: italic;
}

/* --- Defined Term Styling --- */
dt {
	font-weight: 700; /* Bolder for emphasis */
	margin-top: 1.2em;   /* Space above each term */
	color: #1a4480; /* Official blue color */
	font-size: 1.05em; /* Slightly larger */
}

/* --- Content Link Styling --- */
.content a {
	color: #005ea2;
	text-decoration: underline;
	text-decoration-color: rgba(0, 94, 162, 0.3);
	text-underline-offset: 0.15em;
	transition: all 0.2s ease;
}

.content a:hover {
	color: #1a4480;
	text-decoration-color: #1a4480;
}

.content a:visited {
	color: #4c2c92; /* WCAG AA compliant purple for visited links (contrast ratio 5.8:1) */
}

/* style.css */

/* ... other styles ... */

/* Add this rule to hide the sidenav when it has the 'hidden' class */
.sidenav.hidden {
	display: none;
      }
      
      /* Optional: Adjust grid layout when sidenav is hidden */
      /* This assumes your grid uses 'sidenav' area name */
      .grid-container {
	  /* Default grid */
	  grid-template-areas:
	    "header header"
	    "sidenav content"
	    "footer footer";
	   /* ... other grid properties ... */
      }
      
      /* When sidenav has .hidden, change the grid layout */
      .grid-container:has(.sidenav.hidden) {
	  grid-template-columns: 1fr; /* Make content take full width */
	  grid-template-areas:
	    "header"
	    "content"
	    "footer"; /* Remove sidenav area */
      }
      
      /* Ensure content area is correctly placed */
      .content {
	  grid-area: content;
      }
      
      /* Make sure sidenav is placed correctly when *not* hidden */
      .sidenav:not(.hidden) {
	  grid-area: sidenav;
      }
      
      /* Media query adjustments if needed */
      @media (min-width: 64em) { /* Adjust breakpoint as needed */
	  .grid-container {
	      grid-template-columns: 1fr 3fr; /* Example default columns */
	      /* Reset areas if needed */
	      grid-template-areas:
		"header header"
		"sidenav content"
		"footer footer";
	  }
      
	  .grid-container:has(.sidenav.hidden) {
	       /* Adjust columns when sidenav is hidden on larger screens */
	      grid-template-columns: auto 1fr; /* Or just '1fr' if header spans */
	      grid-template-areas:
		"header header" /* Or just "header" if header doesn't span */
		"content content" /* Make content span where sidenav was */
		"footer footer";
	  }
      }

/* --- Page Number Styling --- */
page {
    /* Make the page tag a block-level element but visually hidden */
    /* It serves as a positional anchor for the ::after pseudo-element */
    display: block;
    position: relative; /* Establish positioning context for ::after */
    height: 0;          /* Take up no vertical space */
    margin: 0;
    padding: 0;
    border: none;
    overflow: hidden;   /* Hide any potential content or borders */
    visibility: hidden; /* Ensure it's not visible */
}

page::after {
    /* Display the page number from the 'label' attribute */
    content: attr(label);
    /* Position absolutely relative to the parent .content */
    position: absolute;
    /* Align vertically with the (invisible) page tag's location */
    top: 0;
    /* Position it to the right, outside the main content flow */
    /* Calculation:
       - `right: 0;` would align its left edge with the right padding edge of .content
       - We need to move it further right. Adjust the value as needed.
       - Using `em` makes the distance relative to the font size.
    */
    right: -5em; /* Adjust this value to control distance from text */

    /* Styling for the page number */
    font-size: 0.9rem; /* Slightly smaller font */
    color: #6c757d;    /* Muted color (gray) */
    line-height: 1.4;  /* Ensure consistent line height */
    white-space: nowrap; /* Prevent the number from wrapping */
    visibility: visible; /* Make the pseudo-element visible */

    /* Boundary line */
    border-left: 1px solid #ced4da; /* Vertical line separator */
    padding-left: 0.75em; /* Space between line and number */
    margin-left: 0.75em;  /* Space between content area edge and line */

    /* Ensure it's clickable/selectable if needed (though usually not) */
    pointer-events: auto;
}


/* --- Accessibility Considerations --- */
/* Enhanced focus styles for better accessibility */
a:focus,
button:focus,
[tabindex]:not([tabindex="-1"]):focus {
	outline: 3px solid #2491ff; /* USWDS focus color */
	outline-offset: 2px;
}

/* Focus styles for navigation links */
.sidenav .usa-sidenav__item a:focus {
	outline: 3px solid #2491ff;
	outline-offset: 2px;
	background-color: #e7f2f5;
}

/* Focus styles for content links */
.content a:focus {
	outline: 3px solid #2491ff;
	outline-offset: 2px;
	background-color: #e7f2f5;
}

/* Button styling improvements */
.usa-button,
.usa-menu-btn,
.usa-nav__close,
.usa-accordion__button {
	transition: all 0.2s ease;
}

.usa-menu-btn:hover,
.usa-nav__close:hover {
	background-color: #1a4480;
}

.usa-accordion__button:hover {
	background-color: #e7f2f5;
	color: #1a4480;
}


/* --- Responsive Adjustments --- */
/* USWDS uses 40em (640px), 64em (1024px) breakpoints typically */
@media (max-width: 64em) { /* Adjust tablet breakpoint if needed */
	.grid-container {
	    /* Adjust sidebar width potentially */
	    /* grid-template-columns: 200px auto; */
	}
	 .content {
	     padding: 1rem 1.5rem; /* Reduce horizontal padding */
	 }
     /* Adjust page number position slightly for narrower screens if needed */
     page::after {
         right: -4em; /* Bring it slightly closer */
     }
}


@media (max-width: 40em) { /* Mobile breakpoint (e.g., 640px) */
	body {
	    overflow: auto; /* Allow body to scroll on mobile */
	}
	.grid-container {
	    /* Stack elements vertically */
	    grid-template-columns: 1fr; /* Single column */
	    /* Header, then Sidenav, then Content */
	    grid-template-rows: auto auto 1fr;
	    height: auto; /* Allow height to grow */
	    min-height: 100vh;
	    overflow: visible; /* Reset grid overflow */
	}

	.header {
	    grid-column: 1 / -1;
	    grid-row: 1;
	}

	.sidenav {
	    grid-column: 1 / -1;
	    grid-row: 2;
	    border-right: none;
	    border-bottom: 1px solid #dfe1e2;
	    height: auto; /* Let it take needed height */
	    overflow-y: visible; /* Disable internal scroll on mobile */
	    /* Optional: Limit height & re-enable scroll if needed */
	    /* max-height: 40vh; */
	    /* overflow-y: auto; */
	}

	.content {
	    grid-column: 1 / -1;
	    grid-row: 3;
	    max-width: none; /* Allow content to use full width */
	    padding: 1rem; /* Adjust mobile padding */
	    overflow-y: visible; /* Disable internal scroll on mobile */
        position: static; /* Reset position for mobile layout */
	}

    /* Hide page numbers on mobile as they would likely overlap or go off-screen */
    page::after {
        display: none;
    }
}


/* --- END OF FILE style.css --- */